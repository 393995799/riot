!function(){function n(n,e,r,i){var c=[],f=[],l=[],v=[];this.update=function(){t(c.concat(l).concat(f),function(n){n.update()});t(v,function(t){t.call(n,i)})};s(r,function(t){r=u(t,"if");var e=w(r);if(e){c.push(new h(t,n,e,i));return false}var r=u(t,"each"),s=w(r);if(s){f.push([s,t]);return false}var m=a(t);if(t!=n.root&&o(m)){l.push(b.mount(m,t,i));return false}var N=w(t.nodeValue);N&&v.push(function(){var e=N.call(n,i),r=p(e);if(d(e))t.parentNode.innerHTML=r;else t.nodeValue=r});g(t)});f=f.map(function(t){return new m(t[0],t[1],n,e,i)});function w(n){if(n){n=n.trim();var t=1*n.slice(1);if(n[0]=="$"&&t>=0)return e[t]}}function N(t,e,r){t.removeAttribute(e);t.addEventListener(e.slice(2),function(t){var e=r.call(n,t,i);if(e){var u=e.call(n,t,i);n.update();return u}})}function g(e){t(e.attributes,function(t){var r=w(t.value);if(!r)return;t.value="";var u=t.name;if(u.slice(0,2)=="on"){N(e,u,r)}else{v.push(function(){var e=r.call(n,i);t.value=p(e)})}})}}function t(n,t){if(n){for(var e=0;e<n.length;e++){t(n[e],e)}}}function e(n,t){n.parentNode.insertBefore(t,n);return t}function r(n){var t=n.parentNode;t&&t.removeChild(n)}function i(n,t){while(n.childNodes[0])t.appendChild(n.firstChild)}function u(n,t){var e=n.tagName&&n.getAttribute(t);if(e){n.removeAttribute(t);return e}}function a(n){var t=n.tagName;return t&&t.toLowerCase()}function o(n){return n&&!!w[n.toLowerCase()]}function c(n,e){t(Object.keys(e),function(t){n[t]=e[t]});return n}function f(n){var t=document.createElement("template");t.innerHTML=n.trim();return(t.content||t).firstChild}function l(n){var e={};t(n.attributes,function(n){e[n.name]=n.value});return e}function s(n,t){if(t(n)===false)return;n=n.firstChild;while(n){if(s(n,t)===false)return;n=n.nextSibling}}function v(n){var t=[];for(var e in n){var r=n[e];if(r)t.push(e=="_html"?r:e)}return t.join(" ")}function d(n){for(var t=0,e;e=n[t];t++){if(e._html)return true}}function p(n){return Array.isArray(n)?n.map(p).join(""):n==null?"":typeof n=="object"?v(n):n}function h(n,t,i,u){var a=e(n,document.createTextNode("")),o;this.update=function(){return i.call(t,u)?c():r(n)};function c(){!o&&t.addBlock(n,u);o=e(a,n)}}function m(n,i,u,a,o){var c=n.call(u,o);var f=i.previousSibling,l=e(f,document.createTextNode("")),s=[];function v(n){c.splice(0,c.length);t(n,p);c=m(n)}this.update=function(){var t=n.call(u,o);if(t!=c)v(t)};function d(n,t){var r=i.cloneNode(true);e(t,r);return r}function p(n,t){var e=d(n,f);s.push(e);u.addBlock(e,n)}function h(n){var t=d(n,l.nextSibling);s.unshift(t);u.addBlock(t,n)}function m(n){var e=n.push;n.push=function(t){e.call(n,t);p(t);u.update()};var i=n.unshift;n.unshift=function(t){i.call(n,t);h(t);u.update()};var a=n.splice;n.splice=function(e,i){t(s.slice(e,e+i),r);s.splice(e,i);a.call(n,e,i)};n.remove=function(t){var e=n.indexOf(t);if(e>=0)return n.splice(e,1)};var o=n.sort;n.sort=function(e){t(s,r);s=[];o.call(n,e);t(n,p);u.update()};return n}r(i);if(c){m(c);t(c,p)}}var b=window.riot={};var w={};b.tag=function(n,t,e,r){w[n]=[t,e,r]};b.mount=function(n,t,e){var r=w[n];if(r){var i=new N(n,r[0],r[1],r[2],e);return i.mount(t)}};function N(e,r,u,o,s){this.opts=s=s||{};var v=this,d=[],p;this.addBlock=function(t,e){var r=new n(v,u,t,e);d.push(r)};this.mount=function(n){if(p)return;p=v.root=f(r);o&&o.call(v,v,s);v.addBlock(p,s);if(n){c(s,l(n));if(a(n)==e){i(p,n);p=n}else{n.parentNode.replaceChild(p,n)}}return v.update()};this.update=function(n){if(n)c(v,n);t(d,function(n){n.update()});return v}}}();