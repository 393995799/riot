!function(){function t(t,r,a){var s=r.__,d=[],v=[],_=[],w=[],A=[];this.root=t;p(t,function(t){var n=c(t),i=e(t);var u=k(i["if"]);if(u){A.push(new b(t,r,a,function(){return u.apply(r,a)}));return false}if(n=="yield"){d.push(t);return false}var o=k(i.each);if(o){v.push([o,t]);return false}var f=i.name||i.id;if(f&&f[0]!="$")s.addRef(f,t);if(t!=r.root&&l(t)){var p=new g(n,t,new B(t,i),r);s.addChild(n,p);_.push(p);return false}var h=k(t.nodeValue);if(h){N(t,h)}E(t,i)});v=v.map(function(t){return new y(t[0],t[1],r,a)});function C(t){r.parent.__.addBlock(t)}n(d,function(t){var n=e(t).name,a=r.parent.__.tmpl,c=a?a.cloneNode(true):r.parent.root;if(n){var l=o(c,n);l.removeAttribute("name");i(t,l);C(l)}else{f(a?c:c.firstChild.nextSibling,t,C)}u(t)});this.update=function(){n(A.concat(_).concat(v),function(t){t.update()});n(w,function(t){t.apply(r,a)})};function k(t){if(t){t=t.trim();var n=1*t.slice(1);if(t[0]=="$"&&n>=0)return s.fns[n]}}function N(t,n){w.push(function(){var e=n.apply(r,a),i=m(e);if(h(e)){var u=t.parent||t.parentNode;u.innerHTML=i;t.parent=u}else t.nodeValue=i})}function j(t,n,e){t.removeAttribute(n);t.addEventListener(n.slice(2),function(t){var n=a?a.concat([t]):[t],i=e.apply(r,n);if(i){var u=i.apply(r,n);r.update();return u}})}function B(t,n){var e=this;e.update=function(){for(var i in n){var u=n[i];var o=k(u);e[i]=o?o.apply(r,a):u;o&&t.removeAttribute(i)}}}function E(t,n){Object.keys(n).forEach(function(e){var i=k(n[e]);if(!i)return;t.setAttribute(e,"");if(e.slice(0,2)=="on"){j(t,e,i)}else{w.push(function(){var n=i.apply(r,a),u=t.changed||t;n===false?u.removeAttribute(e):u.setAttribute(e,m(n))})}})}}function n(t,n){if(t){for(var e=0;e<t.length;e++){if(n(t[e],e)===false)e--}}}function e(t){var e={};n(t.attributes,function(t){e[t.name]=t.value});return e}function r(){return document.createTextNode("")}function i(t,n){t.parentNode.insertBefore(n,t);return n}function u(t){var n=t.parentNode;n&&n.removeChild(t)}function o(t,n){var e;p(t,function(t){if(t.tagName&&t.getAttribute("name")==n)e=t;if(e)return false});return e}function a(t,n){while(t.firstChild)n.appendChild(t.firstChild);return n}function f(t,n,e){while(t.firstChild){var r=t.firstChild;i(n,r);e(r)}}function c(t){var n=t.tagName;return n&&n.toLowerCase()}function l(t){var n=c(t);return n&&!!A[n.toLowerCase()]}function s(t,e){n(Object.keys(e),function(n){t[n]=e[n]});return t}function d(t){var n=document.createElement("template");n.innerHTML=t.trim();return(n.content||n).firstChild}function p(t,n){try{if(n(t)===false)return}catch(e){console.error(e,n,t);return false}t=t.firstChild;while(t){if(p(t,n)===false)return;t=t.nextSibling}}function v(t){var n=[];for(var e in t){var r=t[e];if(r)n.push(e=="_html"?r:e)}return n.join(" ")}function h(t){for(var n=0,e;e=(t||[])[n];n++){if(e._html)return true}}function m(t){return Array.isArray(t)?t.map(m).join(""):t==null?"":typeof t=="object"?v(t):t}function b(t,n,e,o){t.removeAttribute("if");var a;var f=i(t,r()),c=n.__;this.update=function(){var t=!!o();if(t!==a)t?s():l();a=t};function l(){c.removeBlock(t);u(t)}function s(){i(f,t);c.addBlock(t,e)}}function y(t,e,o,f){e.removeAttribute("each");f=f||[];var c=e.previousSibling,s=[],d;if(!c){c=r();e.parentNode.appendChild(c)}var p=i(c,r());u(e);this.update=function(){var e=t.apply(o,f);if(d==e)return;if(Array.isArray(e)){if(d)d.splice(0,d.length);n(e,m);d=_(e)}else if(e&&!d){y(e);d=e}};if(e.innerHTML&&l(e)){o.__.tmpl=a(e,document.createElement("div"))}function v(t,n,e){o.__.addBlock(t,f.concat([n,e]))}function h(t,n){var r=e.cloneNode(true);i(n,r);return r}function m(t,n){var e=h(t,c);s.push(e);v(e,t,n)}function b(t,n){var e=h(t,p.nextSibling);s.unshift(e);v(e,t,n)}function y(t){Object.keys(t).forEach(function(n){var e=t[n];m(n,e)})}function _(t){var e=t.push;t.push=function(n){e.call(t,n);m(n);o.update()};var r=t.unshift;t.unshift=function(n){r.call(t,n);b(n);o.update()};var i=t.splice;t.splice=function(e,r){n(s.slice(e,e+r),function(t){o.__.removeBlock(t);u(t)});s.splice(e,r);i.call(t,e,r)};t.remove=function(n){var e=t.indexOf(n);if(e>=0)return t.splice(e,1);return n};t.pop=function(){var n=t.slice(-1)[0];return t.remove(n)};var a=t.sort;t.sort=function(e){n(s,u);s=[];a.call(t,e);n(t,m);o.update()};return t}}var _={},w=[],A={};function C(t){var n=document.createElement("style");n.innerText=t;document.documentElement.appendChild(n)}_.tag=function(t,n,e,r,i){A[t]=[n,e,r];if(i)C(i)};_.mount=function(t,n,e){var r=new g(t,n,e);w.push(r);return r.update()};_.update=function(){n(w,function(t){t.update()})};if(typeof window=="object"){window.riot=_}else{module.exports=_}function g(r,i,u,o){var f=A[r];if(!f)throw"No such tag "+r;var c=this.root=d(f[0]),l=this.tags={},v=this.refs={},h=this,m=[];function b(t,n){Object.defineProperty(h,t,{get:function(){return n},set:function(n){throw"Cannot set "+t}});return n}b("opts",u);b("parent",o);b("update",function(t){if(u&&u.update)u.update();if(t)s(h,t);n(m,function(t){t.update()});var e=h.onupdate;e&&e();return h});this.blocks=m;var y=b("__",{fns:f[1],addBlock:function(n,e){var r=new t(n,h,e);m.push(r);return r},removeBlock:function(t){p(t,function(t){n(m,function(n,e){if(n.root==t)m.splice(e,1)})})},addChild:function(t,n,e){e=e||l;var r=e[t];if(Array.isArray(r))r.push(n);else e[t]=r?[r,n]:n},addRef:function(t,n){y.addChild(t,n,v)}});y.addBlock(c,[]);var _=f[2];_&&_.call(h,h,u);if(i){a(c,i);Object.keys(e(c)).forEach(function(t){i.setAttribute(t,c.getAttribute(t))});c=h.root=c.changed=i;var w=h.onmount;w&&w()}}}();